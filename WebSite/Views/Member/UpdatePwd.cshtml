
@{
    ViewBag.Title = "UpdatePwd";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .important:before {
        content: "*";
        color: red;
    }

    table > tbody > tr th {
        text-align: right !important;
    }

    .no-hover:hover {
        background-color: white !important;
    }
</style>

<div class="s-menu">
    <div class="container">
        <ul>
            <li><a href="~/Member/SignUp">會員註冊</a></li>
            <li><a href="~/PlantDoctor/Introduce">植醫掛號</a></li>
            <li><a href="~/Member/Manage">個人資料管理</a></li>
            <li><a href="~/PlantDoctor/RecordList">植醫輔導紀錄</a></li>
            <li><a href="~/Member/InventoryList">資材使用狀況</a></li>
            <li><a href="~/Member/Notify">疫情資訊訂閱</a></li>
        </ul>
    </div>
</div>

<section class="content bg-img">
    <div class="con-box">
        <div class="container">
            <div class="con-head">
                <div class="title d-flex justify-content-between pb-0 align-items-end">
                    <h3>
                        <span class="line">個人資料管理-更新密碼</span>
                    </h3>
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="~/Member/SignUp">會員專區</a></li>
                            <li class="breadcrumb-item active" aria-current="page">更新密碼</li>
                        </ol>
                    </nav>
                </div>
            </div>
            <div class="con-body">
                <div class="card">
                    <div class="card-body">
                        <div style="text-align:center">
                            <div class="mb-2">
                                密碼規則說明：
                                <br />
                                1.密碼長度8個字元以上、包含英文大小寫、數字，以及特殊字元。
                                <br />
                                2.必須90天更換密碼，且至少不可以與前3次使用過之密碼相同。
                                <br />
                                3.帳號登入進行身分驗證失敗達3次後，至少15分鐘內不允許帳號再次登入。
                            </div>
                        </div>
                        <form id="form" method="post">
                            @Html.AntiForgeryToken()
                            <table class="table rwd-table">
                                <tbody>
                                    <tr>
                                        <th>
                                            <span class="important">原密碼</span>
                                        </th>
                                        <td>
                                            <div class="form-inline">
                                                @Html.Password("FirstPwd", "", new { @class = "form-control mr-2" })
                                                <button type="button" style="width:50px" class="btn btn-default" onclick="showpwd($(this))" id="First"><i class="far fa-eye" id="Firstfont-awesome"></i></button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>
                                            <span class="important">新密碼</span>
                                        </th>
                                        <td>
                                            <div class="form-inline">
                                                @Html.Password("SecondPwd", "", new { @class = "form-control mr-2" })
                                                <button type="button" style="width:50px" class="btn btn-default" onclick="showpwd($(this))" id="Second"><i class="far fa-eye" id="Secondfont-awesome"></i></button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>
                                            <span class="important">再次輸入新密碼</span>
                                        </th>
                                        <td>
                                            <div class="form-inline">
                                                @Html.Password("ThirdPwd", "", new { @class = "form-control mr-2" })
                                                <button type="button" style="width:50px" class="btn btn-default" onclick="showpwd($(this))" id="Third"><i class="far fa-eye" id="Thirdfont-awesome"></i></button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" style="text-align:center">
                                            <button type="button" class="btn btn-secondary" onclick="location.href='/Home/Index'">返回首頁</button>
                                            <button class="btn btn-orange mr-2 mb-3 mt-3">變更密碼</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>


</section>

<script>
    //秀密碼
    function showpwd(x) {
        var id = x[0].id
        var inputbox = "#" + id + "Pwd"
        var font = "#" + id + "font-awesome"
        if ($(inputbox)[0].type == 'password') {
            $(inputbox)[0].type = 'text'
            $(font).removeClass('far fa-eye')
            $(font).addClass('far fa-eye-slash')
        }
        else {
            $(inputbox)[0].type = 'password'
            $(font).removeClass('far fa-eye-slash')
            $(font).addClass('far fa-eye')
        }
    }
</script>
<!-- 功能執行警示結果 -->
@{
    string strTempMsg = (TempData["TempMsg"] == null) ? "" : TempData["TempMsg"].ToString();
    TempData["TempMsg"] = null;
    //取代換行
    strTempMsg = strTempMsg.Replace("\r\n", " ");
    strTempMsg = strTempMsg.Replace("\n", " ");
}
<script type="text/javascript">
        var sMessage = "@strTempMsg";
        if (sMessage.length > 0) {
            setTimeout("alert(sMessage)", 500);
        }
</script>