@model ICCModule.Entity.Tables.Platform.cropType
@{
    ViewBag.Title = "CategoryEdit";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section Style {
    <style>
        .form-control.error {
            border-color: red;
            border-width: 2px;
            font-size: 1rem;
            width: 100%;
        }

        .form-inline .form-control.error {
            width: auto;
        }

        label.error {
            color: red;
            font-size: 14px;
        }

        .error-border {
            border-color: red;
            border-width: 2px;
        }
    </style>
}


<div class="container-fluid">
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-success">作物類別編輯</h1>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="card shadow mb-4">
                <div class="card-header py-3 bg-white">
                    <form id="form" method="post" enctype="multipart/form-data">
                        @Html.AntiForgeryToken()
                        <div class="card-body">
                            <div class="table-responsive">
                                <input type="hidden" name="ID" value="@Model.ID" />
                                <table class="table mb-0 table-striped" style="min-width:700px;">
                                    <thead class="thead-light">
                                        <tr>
                                            <th colspan="2">編輯類別</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <span class="important">類別名稱</span>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" name="Name" value="@Model.Name" required title="名稱為必填欄位" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <span class="important">排序值</span>
                                            </td>
                                            <td>
                                                <input type="number" class="form-control" name="Sort" value="@Model.Sort" required  title="排序為必填欄位" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <span class="important">狀態</span>
                                            </td>
                                            <td>
                                                <div class="form-inline">
                                                    <lable class="mr-2"><input type="radio" class="form-control mr-2" @(Model.Enable ? "checked" : "") name="Enable" value="true" />啟用</lable>
                                                    <lable class="mr-2"><input type="radio" class="form-control mr-2" @(!Model.Enable ? "checked" : "") name="Enable" value="false" />停用</lable>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <div class="form-inline" style="justify-content:center">
                                                    <button type="button" class="btn btn-primary m-2" onclick="window.history.back()">回上一頁</button>
                                                    <button type="button" class="btn btn-primary m-2" onclick="handleSubmit(event)">儲存</button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
@section Script{
    <script>
        function handleSubmit(e) {
            e.preventDefault();
            var validate = $("form").valid();
            if (validate) {
                console.log($('form').serializeArray())
                document.getElementById('form').submit();
            }
        }
    </script>
}
